{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;;;;;;QAAO,0BAA0B;;QAC1B,2BAA2B;;sCAEV,2BAA2B;;;;iCACtB,sBAAsB;;AAEnD,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAC;;;;AAE1B,SAAS,aAAa,CAAC,OAAO,EAAE;AACnC,WAAO,OAAO,CAAC;CAClB;;AAED,aAAa,CAAC,MAAM;yCAAG,UAAS,MAAM,EAAE;AACpC,WAAO,MAAM,CAAC;CACjB,CAAC;;;;AAEK,SAAS,KAAK,CAAC,OAAO,EAAE;AAC3B,WAAO,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;;AAE5C,UAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,KAAK,CAAC;;AAE1C,QAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;AACvB,cAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,GAAG,CAAC,CAAC;KACpD;;AAED,UAAM,GAAG,GAAG,qCAAgB,OAAO,EAAE,GAAG,CAAC,CAAC;;AAE1C,yCAAa,GAAG,CAAC,CAAC;;AAElB,WAAO,GAAG,CAAC;CACd","file":"index.js","sourcesContent":["import './http/HttpServerRequest';\nimport './http/HttpServerResponse';\n\nimport Application from './application/Application';\nimport { createServer } from './application/server';\n\nError.stackTraceLimit = Infinity; //TODO move somewhere else\n\nexport function newController(actions) {\n    return actions;\n}\n\nnewController.action = function(action) {\n    return action;\n};\n\nexport function start(dirname) {\n    dirname = dirname.replace(/\\/+$/, '') + '/';\n\n    const env = process.env.NODE_ENV || 'dev';\n\n    if (!/^[a-z]+$/.test(env)) {\n        throw new Error('Unacceptable env name: ' + env);\n    }\n\n    const app = new Application(dirname, env);\n\n    createServer(app);\n\n    return app;\n}\n"]}